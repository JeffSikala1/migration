{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "TeamObjectRW",
      "Effect": "Allow",
      "Principal": {
        "AWS": [
          "arn:aws:iam::339713019047:role/splunk-mgmt-s3-smartstore",
          "arn:aws:sts::339713019047:assumed-role/AWS-075-GM-FullAdmin/tylerlgoll",
          "arn:aws:iam::339713019047:user/tyler.goll",
          "arn:aws:iam::339713019047:user/madhav.kundala",
          "arn:aws:sts::339713019047:assumed-role/AWS-075-GM-FullAdmin/madhavdkundala",
          "arn:aws:iam::471112718870:user/terraformops"
        ]
      },
      "Action": ["s3:GetObject","s3:PutObject","s3:DeleteObject"],
      "Resource": "arn:aws:s3:::splunkmgmtsmartstore/*"
    },
    {
      "Sid": "TeamBucketListAndLocation",
      "Effect": "Allow",
      "Principal": {
        "AWS": [
          "arn:aws:iam::339713019047:role/splunk-mgmt-s3-smartstore",
          "arn:aws:sts::339713019047:assumed-role/AWS-075-GM-FullAdmin/tylerlgoll",
          "arn:aws:iam::339713019047:user/tyler.goll",
          "arn:aws:iam::339713019047:user/madhav.kundala",
          "arn:aws:sts::339713019047:assumed-role/AWS-075-GM-FullAdmin/madhavdkundala",
          "arn:aws:iam::471112718870:user/terraformops"
        ]
      },
      "Action": ["s3:ListBucket","s3:GetBucketLocation"],
      "Resource": "arn:aws:s3:::splunkmgmtsmartstore"
    },
    {
      "Sid": "ELPListBucketScopedToPrefix",
      "Effect": "Allow",
      "Principal": {
        "AWS": [
          "arn:aws:iam::752281881774:role/production_elk_logstash",
          "arn:aws:iam::471112718870:role/ec2dev-ssm-role",
          "arn:aws:iam::471112718870:role/dev-ssm-role",
          "arn:aws:iam::471112718870:role/ec2s-ssm-role",
          "arn:aws:iam::471112718870:role/cnxsdev-selfmanaged-node-role",
          "arn:aws:iam::533267417102:role/ec2s-ssm-role",
          "arn:aws:iam::533267417102:role/cnxstest-selfmanaged-node-role",
          "arn:aws:iam::339713019047:role/mgmt-ssm-role",
          "arn:aws:iam::339712815045:role/cnxscert-selfmanaged-node-role",
          "arn:aws:iam::590183684637:role/cnxsprod-selfmanaged-node-role"
        ]
      },
      "Action": "s3:ListBucket",
      "Resource": "arn:aws:s3:::splunkmgmtsmartstore",
      "Condition": {
        "StringLike": { "s3:prefix": ["splunkmgmtsmartstore/*"] }
      }
    },
    {
      "Sid": "ELPGetBucketLocation",
      "Effect": "Allow",
      "Principal": {
        "AWS": [
          "arn:aws:iam::752281881774:role/production_elk_logstash",
          "arn:aws:iam::471112718870:role/ec2dev-ssm-role",
          "arn:aws:iam::471112718870:role/dev-ssm-role",
          "arn:aws:iam::471112718870:role/ec2s-ssm-role",
          "arn:aws:iam::471112718870:role/cnxsdev-selfmanaged-node-role",
          "arn:aws:iam::533267417102:role/ec2s-ssm-role",
          "arn:aws:iam::533267417102:role/cnxstest-selfmanaged-node-role",
          "arn:aws:iam::339713019047:role/mgmt-ssm-role",
          "arn:aws:iam::339712815045:role/cnxscert-selfmanaged-node-role",
          "arn:aws:iam::590183684637:role/cnxsprod-selfmanaged-node-role"
        ]
      },
      "Action": "s3:GetBucketLocation",
      "Resource": "arn:aws:s3:::splunkmgmtsmartstore"
    },
    {
      "Sid": "ELPReadObjectsUnderPrefix",
      "Effect": "Allow",
      "Principal": {
        "AWS": [
          "arn:aws:iam::752281881774:role/production_elk_logstash",
          "arn:aws:iam::471112718870:role/ec2dev-ssm-role",
          "arn:aws:iam::471112718870:role/dev-ssm-role",
          "arn:aws:iam::471112718870:role/ec2s-ssm-role",
          "arn:aws:iam::471112718870:role/cnxsdev-selfmanaged-node-role",
          "arn:aws:iam::533267417102:role/ec2s-ssm-role",
          "arn:aws:iam::533267417102:role/cnxstest-selfmanaged-node-role",
          "arn:aws:iam::339713019047:role/mgmt-ssm-role",
          "arn:aws:iam::339712815045:role/cnxscert-selfmanaged-node-role",
          "arn:aws:iam::590183684637:role/cnxsprod-selfmanaged-node-role"
        ]
      },
      "Action": "s3:GetObject",
      "Resource": "arn:aws:s3:::splunkmgmtsmartstore/splunkmgmtsmartstore/*"
    }
  ]
}