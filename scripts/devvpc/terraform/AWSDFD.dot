digraph {

    label="Application VPC Terraform Resources"
    
    node[shape="box", style="rounded", fontcolor="red"];
    
    "Main"->"Ext NLB";
    "Main"->"Int NLB";
    "Main"->"Bastion Host Security Group";
    "Main"->"SSH Key Pairs";
    "Main"->"IAM Role & SSM Policy";
    "Main"->"DB Admin Host";
    "Main"->"EKS";
    subgraph "EKS" {
	
	"EKS"->"Addons - CoreDNS, Kube-Proxy, VPC-CNI, EKS-pod-identity-agent, EFS CSI Driver";
	"EKS"->"Cluster Admin Role";
	"EKS"->"Karpenter Node Group 1";
	"EKS"->"Karpenter Node Role";
	"EKS"->"Node Security Group";
	"EKS"->"VPC CNI IAM Role for Service Account";
	"Main"->"EFS";
	"EFS"->"EFS Security Group";
	"EFS"->"EFS File System Policy";
    }
    subgraph "Transfer Family" {
	"Main"->"Transfer Family";
	"Transfer Family"->"SFTP Users";
	"Transfer Family"->"Role";
	"Transfer Family"->"User Access Points"
    }
}

